(()=>{"use strict";let t,e=document.createElement("template");e.innerHTML='\n    <style>\n    </style>\n    <div id="ifm_hack_content" name="ifm_hack_content">\n      <slot name="content"></slot>\n    </div>\n    <script id="oView" name="oView" type="sapui5/xmlview">\n    <mvc:View\n      controllerName="ifm.drag.initial"\n\t  xmlns:grid="sap.ui.layout.cssgrid"\n\t  xmlns:dnd="sap.ui.core.dnd"\n\t  xmlns:dnd-grid="sap.f.dnd"\n      xmlns:core="sap.ui.core"\n      xmlns:t="sap.ui.table"\n      xmlns:m="sap.m"\n      xmlns:f="sap.f"\n      xmlns:card="sap.f.cards"\n      xmlns:mvc="sap.ui.core.mvc">\n      <m:Panel height="100%" expandable="true" expanded="true" headerText="Maintain Aggregate" id="oPanel">\n\t\t<f:GridList\n\t\t\tid="grid1"\n            iconSrc="sap-icon://sort"\n\t\t\theaderText="Sort Order Material">\n\n\t\t\t<f:dragDropConfig>\n\t\t\t\t<dnd:DragInfo sourceAggregation="items" />\n\t\t\t\t<dnd-grid:GridDropInfo targetAggregation="items" dropPosition="Between" dropLayout="Vertical" drop="onDrop" />\n\t\t\t</f:dragDropConfig>\n\n\t\t\t<f:GridListItem">\n                <m:List\n                    showSeparators="None"\n                    counter={rank}\n                    items="{products>/productItems}">\n                    <m:StandardListItem\n                        description="{products>description}"\n                        icon="{products>iconFile}"\n                        title="{products>id}" />\n                </m:List>\n\t\t\t</f:GridListItem>\n\t\t</f:GridList>\n      </m:Panel>\n    </mvc:View>\n    <\/script>\n';class n extends HTMLElement{constructor(){super(),t=this.attachShadow({mode:"open"}),t.appendChild(e.content.cloneNode(!0)),this._listOfItems={}}onCustomWidgetAfterUpdate(t){this.buildUI(t,this)}set ListValue(t){this._listOfItems=t,this.dispatchEvent(new CustomEvent("propertiesChanged",{detail:{properties:{listOfItems:this._listOfItems}}}))}get ListValue(){return this._listOfItems}buildUI(e,n){var i=n;let o=document.createElement("div");o.slot="content",i.appendChild(o),sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/export/Spreadsheet","sap/f/dnd/GridDropInfo","sap/ui/core/library"],(function(t){return t.extend("ifm.drag.initial",{onInit:function(t){this.oPanel=this.byId("oPanel"),this.configGrid(this.get),console.log("--- onInit ---"),console.log(this._listOfItems)},configGrid:function(t){var e=sap.ui.core.dnd.DropLayout,n=sap.ui.core.dnd.DropPosition,i=this.byId("grid1"),o=new sap.ui.model.json.JSONModel;console.log("--- JSON Model omit configGrid ---"),console.log(t);var s={productItems:[{id:"P_0123456",description:"Test 1",iconFile:"sap-icon://world",rank:1},{id:"P_1234567",description:"Test 2",iconFile:"sap-icon://call",rank:2},{id:"P_2345678",description:"Test 3",iconFile:"sap-icon://business-card",rank:3}]};this._listOfItems=s,console.log("--- list after assignment ---"),console.log(this._listOfItems),o.setData(s),sap.ui.getCore().setModel(o,"products"),i.addDragDropConfig(new sap.ui.core.dnd.DragInfo({sourceAggregation:"items"})),i.addDragDropConfig(new sap.f.dnd.GridDropInfo({targetAggregation:"items",dropPosition:n.Between,dropLayout:e.Vertical,drop:function(t){var e=t.getParameter("draggedControl"),n=t.getParameter("droppedControl"),o=t.getParameter("dropPosition"),s=i.indexOfItem(e),r=i.indexOfItem(n);console.log("Drop Position"),console.log(r),i.removeItem(e),s<r&&r--,"After"===o&&r++,i.insertItem(e,r),i.focusItem(r)}}))}})})),new sap.ui.core.mvc.XMLView({viewContent:jQuery(t.getElementById("oView")).html()}).placeAt(o)}}customElements.define("ifm-drag",n)})();